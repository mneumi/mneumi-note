## Object

因为所有的`class`最终都继承自`Object`，而`Object`定义了几个重要的方法：

- `toString()`：把instance输出为`String`；
- `equals()`：判断两个instance是否逻辑相等；
- `hashCode()`：计算一个instance的哈希值。

在必要的情况下，我们可以覆写`Object`的这几个方法。例如

```java
class Person {
    ...
    // 显示更有意义的字符串:
    @Override
    public String toString() {
        return "Person:name=" + name;
    }

    // 比较是否相等:
    @Override
    public boolean equals(Object o) {
        // 当且仅当o为Person类型:
        if (o instanceof Person) {
            Person p = (Person) o;
            // 并且name字段相同时，返回true:
            return this.name.equals(p.name);
        }
        return false;
    }

    // 计算hash:
    @Override
    public int hashCode() {
        return this.name.hashCode();
    }
}
```



## String

### 概述

字符串类型`String`是引用类型，使用用双引号括起来表示字符串，一个字符串可以存储0个到任意个字符

```java
String s = ""; // 空字符串，包含0个字符
String s1 = "A"; // 包含一个字符
String s2 = "ABC"; // 包含3个字符
String s3 = "中文 ABC"; // 包含6个字符，其中有一个空格
```

### 不可变特性

Java的字符串除了是一个引用类型外，还有个重要特点，就是字符串不可变

```java
public class Main {
    public static void main(String[] args) {
        String s = "hello";
        System.out.println(s); // 显示 hello
        s = "world";
        System.out.println(s); // 显示 world
    }
}
```

### 转义字符

| 转义字符 | 说明                      |
| -------- | ------------------------- |
| `\"`     | 表示字符`"`               |
| `\'`     | 表示字符`'`               |
| `\\`     | 表示字符`\`               |
| `\n`     | 表示换行符                |
| `\r`     | 表示回车符                |
| `\t`     | 表示Tab                   |
| `\uxxxx` | 表示一个Unicode编码的字符 |

```java
String s = "ABC\n\u4e2d\u6587"; // 包含6个字符: A, B, C, 换行符, 中, 文
```

### 字符串连接

可以使用`+`连接任意字符串和其他数据类型

```java
public class Main {
    public static void main(String[] args) {
        String s1 = "Hello";
        String s2 = "world";
        String s = s1 + " " + s2 + "!";
        
        System.out.println(s); // Hello World!
    }
}
```

如果用`+`连接字符串和其他数据类型，会将其他数据类型先自动转型为字符串，再进行连接

```java
public class Main {
    public static void main(String[] args) {
        int age = 25;
        String s = "age is " + age;
        
        System.out.println(s); // age is 25
    }
}
```

### 多行字符串

如果要表示多行字符串，使用+号连接会非常不方便：

```java
String s = "line 1 \n"
         + "line 2 \n"
         + "line end";
```

从 `Java 13`开始，字符串可以用`"""..."""`表示多行字符串（类似Python）

```java
public class Main {
    public static void main(String[] args) {
        String s = """
                   line 1
            	   line 2
                   line end
                   """;
            
        System.out.println(s);
    }
}
```
