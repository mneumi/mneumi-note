## 正则表达式

### 概述

定义：正则表达式就是字符串模式匹配的规则

作用：验证字符串，替换字符串，提取字符串

注意：正则表达式里不用加引号

### 正则表达式元字符

元字符就是特殊字符，在正则表达式中其特殊作用

#### 边界符

^：必须是开头

$：必须是结尾

#### 可选字符集合

在[]内可以填写多个字符，只要满足其中一个即可

^可用于取反

| 可选字符集合 | 说明                  |
| ------------ | --------------------- |
| \[abc]       | a,b,c中任意一个       |
| \[a-z]       | a-z中任意一个         |
| \[A-Z]       | A-Z中任意一个         |
| \[0-9]       | 0-9中任意一个         |
| \[0-9a-zA-Z] | 0-9,a-z,A-Z中任意一个 |
| \[^A-Z]      | 除了A-Z外任意一个     |
| \[^0-9]      | 除了0-9外任意一个     |

#### 量词

| 量词  | 说明            |
| ----- | --------------- |
| *     | 重复0次或多次   |
| ?     | 重复0次或1次    |
| +     | 重复1次或多次   |
| {n}   | 重复n次         |
| {n,}  | 重复n次或更多次 |
| {n,m} | 重复n到m次      |

#### 组合符、分组符

被()包裹的字符看作一个整体

例子对比

* \\abc{3}\\ : c这个字符重复3次
* \\(abc){3}\\ : abc这个字符串作为整体重复3次

#### 预定义字符

| 量词 | 说明                                                      |
| ---- | --------------------------------------------------------- |
| \d   | 匹配0-9，相当于[0-9]                                      |
| \D   | 匹配非0-9，相当于`[^0-9]`                                 |
| \w   | 匹配所有大小写字母、数字和下划线，相当于[0-9a-zA-Z_]      |
| \W   | 匹配除了所有大小写字母、数字和下划线，相当于[^0-9a-zA-Z_] |
| \s   | 匹配空格符，相当于[\n\t\r\v\f]                            |
| \S   | 重复n到m次，相当于`[^\n\t\r\v\f]`                         |

#### 或符

| : 多个字符或多种表达式，只要满足其一即认为匹配

```js
/^(\d{3}-\d{8})|(\d{4}-\d{8})$/
```



### 正则表达式参数

#### 参数书写位置

```js
/regExpression/[switch]
```

#### 参数选值

| 选值 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| g    | 全局匹配（也叫贪婪匹配）<br />正则表达式默认是非全局匹配（也叫非贪婪匹配），即一旦匹配成功，则不再继续往后进行匹配 |
| i    | 忽略大小写                                                   |
| gi   | 全局匹配+忽略大小写                                          |
| s    | dotAll模式，新增`.`可以匹配换行符（默认情况下，`.`可以匹配除了换行符外任意字符） |



## JavaScript中使用正则表达式

### 创建正则表达式对象

通过RegExp构造函数创建

```js
const regExpObj = new RegExp(/regularExpression/)
```

通过字面量创建

```js
const regExpObj = /regularExpression/
```

### 验证字符串

使用正则表达式对象的test方法，字符串符合正则表达式则返回true，否则返回false

```js
regExpObj.test(str)
```

例子如下

```js
const regExpObj = /regularExpression/;
const str = "字符串";
if (regExpObj.test(str)) {
    console.log("匹配正则表达式");
} else {
    console.log("不匹配正则表达式");
}
```

### 替换字符串

使用字符串的replace方法

```js
str.replace(regExpObj/substr, replacement)
```

例子如下

```js
const str = "andy和jimi";
const newStr = str.replace(/andy/, "gumi");

console.log(str); // "andy和jimi"
console.log(newStr); // "gumi和jimi"
```

例子：使用全局匹配

```js
var str = "激情四射，激情溢出，激情爆发";
var newStr = str.replace(/激情/, "**");

console.log(newStr); // "**四射，**溢出，**爆发"
```

### 提取字符串

使用字符串的match方法，当字符串中某些子串匹配正则表达式时，会抽出来放到数组中并返回

注意配合全局匹配使用，如果不使用全局匹配，则返回的只有第一个匹配正则表达式的子串

例子如下

```js
const regExp = /\d+/g;

const str = "123 Hello 3 World 666 9 0";

const result = str.match(regExp);

console.log(result); // [123, 3, 666, 9, 0]
```
