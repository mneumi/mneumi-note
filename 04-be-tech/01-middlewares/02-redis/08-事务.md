## 事务

### Redis事务

Redis中单个命令是原子性的，但事务的执行并不是原子性的：如果事务中间某条命令失败，也不会回滚，依旧执行下一条命令

Redis开始事务后，命令不会立即执行，而是进入一个队列中，当提交事务后才会执行：事务可以看作是一个批量执行脚本

### 事务的使用

开始事务：MULTI

命令入队

执行事务：EXEC

### 原子性实现

使用 Lua 脚本