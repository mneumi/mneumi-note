## 流水线 pipeline

### 网络传输时间与命令时间

* 请求处理时间 = 网络传输时间 + 命令时间
* 网络传输时间：客户端与服务端之间数据在网络传输过程中所消耗的时间
* 命令时间：服务端处理命令所耗费的时间
* 命令时间是很快的，所以请求处理时间主要取决于网络传输时间

### pipeline概述

pipeline可以将客户端多个命令进行打包，然后一次性通过网络传输到redis服务端，redis处理后，再一次性通过网络返回处理结果

即：1次请求处理时间 = 1次网络请求时间 + n次命令时间

### pipeline作用

减少网络请求时间

### pipeline注意事项

* redis中M操作(mset,mget等等)是原子性的

* pipeline不是原子性的

```go
其他命令->其他命令->pipeline子命令->其他命令->pipeline子命令->其他命令 ===>>> Server
```

* pipeline每次只能作用在一个redis节点上