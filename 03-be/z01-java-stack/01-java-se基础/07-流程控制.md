## 分支流程：if/else if/else

### 基础使用

```java
public class Main {
    public static void main(String[] args) {
        int n = 100;
        
        if (n >= 60) {
            System.out.println("及格");
        } else if (n >= 90) {
            System.out.println("优秀");
        } else {
            System.out.println("不及格");
        }
    }
}
```

### 对于引用类型

Java中，判断值类型的变量是否相等，可以使用`==`运算符

但是在判断引用类型的变量是否相等，`==`表示**引用是否相等**，即判断是否指向同一个对象

例如，下面的两个String类型，它们的内容是相同的，但是分别指向不同的对象，所以用`==`判断，结果为`false`

```java
public class Main {
    public static void main(String[] args) {
        String s1 = "hello";
        String s2 = "HELLO".toLowerCase();
        
        System.out.println(s1); // hello
        System.out.println(s2); // hello
        
        if (s1 == s2) {
            System.out.println("s1 == s2");
        } else {
            System.out.println("s1 != s2");
        }
    }
}
```

要判断引用类型的变量内容是否相等，必须使用`equals()`方法

```java
public class Main {
    public static void main(String[] args) {
        String s1 = "hello";
        String s2 = "HELLO".toLowerCase();
        
        System.out.println(s1); // hello
        System.out.println(s2); // hello
        
        if (s1.equals(s2)) {
            System.out.println("s1 equals s2");
        } else {
            System.out.println("s1 not equals s2");
        }
    }
}
```



## 分支流程：switch

### 基础使用

* switch中写的是**表达式**或**枚举类型**
* case语句默认是**贯穿**的，需要break
* 有`break`的前提下，`case`的顺序不影响程序逻辑
* switch可以直接匹配字符串

```java
public class Main {
    public static void main(String[] args) {
        int option = 1;
        switch (option) {
        case 1:
            System.out.println("Selected 1");
            break;
        case 2:
            System.out.println("Selected 2");
            break;
        case 3:
            System.out.println("Selected 3");
            break;
        default:
            System.out.println("default");
            break;
        }
    }
}
```

### 匹配字符串

`switch`语句可以直接匹配字符串，字符串匹配时，是比较**内容相等**，不需要使用**equals**

```java
public class Main {
    public static void main(String[] args) {
        String season = "spring";
        
        switch (season) {
        case "spring":
            System.out.println("spring now");
            break;
        case "summer":
            System.out.println("summer now");
            break;
        case "autumn":
            System.out.println("autumn now");
            break;
        case "winter":
            System.out.println("winter now");
            break;
        default:
            System.out.println("no season selected");
            break;
        }
    }
}
```

### switch表达式

#### 基础使用

使用`switch`时，如果遗漏了`break`，就会造成严重的逻辑错误，而且不易在源代码中发现错误

从`Java 12`开始，`switch`语句拥有另外一种更简洁的表达式语法：使用类似模式匹配的语法，保证只有一种路径会被执行

#### 特点

* 新语法使用`->`，而不是`:`
* 每条`case`需要以分号结束，或以`{}`结束
* 不需要`break`语句，**没有贯穿**效应
* 如果有多条语句，需要用`{}`括起来
* switch语句**具有返回值**，存在`{}`时需要使用`yield`进行返回

#### 示例代码

```java
public class Main {
    public static void main(String[] args) {
        String season = "spring";
        
        switch (season) {
        case "spring" -> System.out.println("spring now");
        case "summer" -> System.out.println("summer now");
        case "autumn" -> System.out.println("autumn now");
        case "winter" -> {
            System.out.println("winter mango");
            System.out.println("winter is a nice season");
        }
        default -> System.out.println("no season selected");
        }
    }
}
```

#### yield

在多数情况下，`switch`表达式内部会返回简单的值

但是如果需要复杂的语句时，也可以写很多语句，放到`{}`里，使用用`yield`返回一个值作为`switch`语句的返回值

```java
public class Main {
    public static void main(String[] args) {
        String season = "default";
        
        int value = switch (season) {
            case "spring", "summer" -> 1;
            case "autumn", "winter" -> 2;
            default -> {
                int code = season.hashCode();
                yield code; // switch语句返回值
            }
        };
        System.out.println("value = " + value); // 哈希值
    }
}
```

### 贯穿效应的使用

#### 示例代码1：默认写法

```java
public class Main {
    public static void main(String[] args) {
        int value;

        switch (season) {
        case "spring":
        case "summer":
            value = 1;
            break;
        case "autumn":
        case "winter":
            value = 2;
            break;
        default:
            value = 0;
            break;
        }
    }
}
```

#### 示例代码2：switch表达式写法

```java
public class Main {
    public static void main(String[] args) {
        String season = "winter";
        
        int value = switch (season) {
            case "spring", "summer" -> 1; // 注意赋值语句要以;结束
            case "autumn", "winter" -> 2; // 注意赋值语句要以;结束
            default -> 0;
        };
        
        System.out.println("value = " + value);
    }
}
```



## 循环流程

### while循环

```java
while (条件表达式) {
    循环语句
}
```

```java
public class Main {
    public static void main(String[] args) {
        int sum = 0;
        int n = 1;
        
        while (n <= 100) {
            sum = sum + n;
            n ++;
        }
        
        System.out.println(sum); // 5050
    }
}
```

### do while循环

`do while`循环则是先执行循环，再判断条件，条件满足时继续循环，条件不满足时退出

`do while`循环会至少循环一次

```java
do {
    执行循环语句
} while (条件表达式);
```

```java
public class Main {
    public static void main(String[] args) {
        int sum = 0;
        int n = 1;
        
        do {
            sum = sum + n;
            n ++;
        } while (n <= 100);
        
        System.out.println(sum); // 5000
    }
}
```

### for循环

```java
for (初始条件; 循环检测条件; 循环后更新计数器) {
    // 执行语句
}
```

```java
public class Main {
    public static void main(String[] args) {
        int sum = 0;
        
        for (int i=1; i<=100; i++) {
            sum = sum + i;
        }
        
        System.out.println(sum); // 50000
    }
}
```

### for each循环

`for each`和`for`循环相比，循环的变量不是计数器，而是直接对应到数组的每个元素

`for each`循环的写法更简洁，但是`for each`循环无法指定遍历顺序，也无法获取数组的索引

除了数组外，`for each`循环能够遍历所有**可迭代**的数据类型，包括List`、`Map`等

```java
public class Main {
    public static void main(String[] args) {
        int[] numArray = { 1, 4, 9, 16, 25 };
        
        for (int n : numArray) {
            System.out.println(n);
        }
    }
}
```

### break

在循环过程中，可以使用`break`语句跳出当前循环

```java
public class Main {
    public static void main(String[] args) {
        int sum = 0;
        
        for (int i=1; ; i++) {
            sum = sum + i;
            if (i == 100) {
                break; // 当 i 为 100时，跳出循环
            }
        }
        
        System.out.println(sum); // 5000
    }
}
```

`break`语句总是跳出自己所在的那一层循环，下面代码是两个`for`循环嵌套，因为`break`语句位于内层的`for`循环，所以它会跳出内层`for`循环，但不会跳出外层`for`循环

```java
public class Main {
    public static void main(String[] args) {
        for (int i=1; i<=10; i++) {
            System.out.println("i = " + i);
            for (int j=1; j<=10; j++) {
                System.out.println("j = " + j);
                if (j >= i) {
                    break;
                }
            }
            
            System.out.println("breaked here"); // break跳到这里
        }
    }
}
```

### continue

`continue`则是提前结束本次循环，直接继续执行下次循环，而不会直接跳出循环

```java
public class Main {
    public static void main(String[] args) {
        int sum = 0;
        
        for (int i=1; i<=10; i++) {
            System.out.println("begin i = " + i);
            if (i % 2 == 0) {
                continue; // continue语句会结束本次循环
            }
            sum = sum + i;
            System.out.println("end i = " + i);
        }
        
        System.out.println(sum); // 25
    }
}
```

### label

可以通过`label`跳出多重循环

```java
import java.util.Scanner;

public class Main {
	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
        
		int amount = in.nextInt();
		
		OUT:
		for (int one = 0; one <= amount; ++one) {
			for (int five = 0; five <= amount / 5; ++five) {
				for (int ten = 0; ten <= amount / 10; ++ten) {
					for (int twenty = 0; twenty <= amount / 20; ++twenty) {
						if (one + five * 5 + ten * 10 + twenty * 20 == amount) {
							System.out.println("等价于：" + one + "张1元，" + five + "张5元，" + ten + "张10元，" + twenty + "张20元。");
							break OUT;  //此break可以跳出整个多重循环
						}
					}
				}
			}
		}

	}

}
```

