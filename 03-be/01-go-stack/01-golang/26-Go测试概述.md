## 简单测试方法

### 概述

在 `main` 函数中，调用需要测试的函数，观察运行结果与预期是否相同，相同则正确，否则不正确

### 缺点

* 我们需要在 `main` 函数中调用，如果项目正在运行，则可能需要去停止项目
* 不利于管理，不管什么模块的方法的测试都写在 `main` 函数里面了
* 不利于统计测试情况，比如测试通过率，测试覆盖率等



## 测试框架

### 概述

`Go` 自带一个轻量级测试框架 `testing` 和自带的 `go test` 命令来实现单元测试、性能测试以及示例文档

### 测试类型

| 类型     | 函数签名要求                               | 作用                   |
| -------- | ------------------------------------------ | ---------------------- |
| 单元测试 | 函数签名形如 `TestXxxx(t *testing.T)`      | 测试函数的功能是否正确 |
| 性能测试 | 函数签名形如 `BenchmarkXxxx(b *testing.B)` | 测试函数的性能         |
| 示例文档 | 函数签名形如 `ExampleXxxx()`               | 为文档提供示例文档     |

### 文件名要求

所有的测试文件都需要以`_test.go`作为后缀名，且不会被`go build`编译到最终的可执行文件中



### 测试命令常用参数

| 参数                       | 说明                         |
| -------------------------- | ---------------------------- |
| -v                         | 无论是否运行成功，都打印日志 |
| -test.run                  | 只测试指定函数               |
| -cover                     | 统计测试覆盖率               |
| -coverprofile=统计文件路径 | 将测试覆盖率输出到文件中     |
| -bench                     | 执行性能测试                 |

