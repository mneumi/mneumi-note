## RESTful

### RESTful是什么

RESTful是Web应用的架构风格

### RESTful的限制

#### 1. 前后端分离

前端专注用户界面，提升了可移植性

服务端专注数据存储，提高了简单性

#### 2. 无状态

所有用户会话信息都保存到客户端，每次请求必须包括全部信息，不能依赖于上下文信息

服务端不用保存会话信息，提升了简单性，可靠性和可见性

#### 3. 缓存

所有服务端响应都要被标记为可缓存或不可缓存

减少前后端交互，提升性能

#### 4. 统一接口

接口设计尽可能统一通用，提升了简单性，可见性

接口与实现解耦，使前后端可以独立开发迭代

#### 5. 分层系统

每层只知道相邻的一层，后面隐藏的就不知道了

安全层，负载均衡层，缓存层

#### 6. 按需代码

客户端可以下载运行服务端传来的代码（如JS）

简化了客户端

#### 7. 面向资源，使用名词复数

接口的路径设计以资源为设计点，使用名词复数

### RESTful API组成

#### 基本的URI

如 https://api.github.com/users

#### 标准的HTTP方法

如GET, POST, PUT, DELETE, PATCH, OPTION

#### 传输的数据类型

如JSON, XML



## 设计规范

### 请求设计规范

#### URI使用名词，尽量用复数，不要使用动词

如 `/users`

#### URI使用嵌套表示关联关系

如 `/users/12/repos/5`

#### 正确使用 HTTP 请求方法

不符合 CRUD 情况，POST /action/子资源

### 响应设计规范

分页，perpage，page

设置字段过滤，根据情况进行返回

返回标准的状态码

进行错误处理

增删改查应该返回的内容
* 增：返回新增的对象
* 删：204状态码（没有内容，但是成功了）
* 改：返回修改的对象
* 查：数组或值





